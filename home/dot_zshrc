# Lines configured by zsh-newuser-install
HISTFILE=~/.histfile
HISTSIZE=10000
SAVEHIST=10000
unsetopt beep

# Set emacs mode
bindkey -e

# End of lines configured by zsh-newuser-install
# The following lines were added by compinstall
zstyle :compinstall filename '/home/raiden/.zshrc'

autoload -Uz compinit
compinit

# Function to make chezmoi edit commands more ergonomic
czed() {
    # If no argument is provided, open the chezmoi source directory
    if [ $# -eq 0 ]; then
        chezmoi edit
        chezmoi apply
    else
        # Use zsh's extended globbing to handle paths more elegantly
        setopt local_options EXTENDED_GLOB
        chezmoi edit "$@"
        chezmoi apply
    fi
}

# Add completion for the czed function
compdef _chezmoi czed

# Optional: Create a shorter alias that points to the function
alias cze=czed

# Fix for the window padding option set in kitty when going into nvim
alias nvim=$HOME/.config/hypr/scripts/kitty_nvim.sh
# Allow `chezmoi edit` to use the previous fix
export EDITOR="$HOME/.config/hypr/scripts/kitty_nvim.sh"

export PATH=$PATH:$HOME/.config/zsh/.antidote
export STARSHIP_CONFIG=$HOME/.config/starship/starship.toml

eval "$(zoxide init zsh --cmd cd)"
eval $(thefuck --alias)

# Load antidote zsh package manager
zstyle ':antidote:bundle' file $HOME/.config/antidote/.zsh_plugins.txt
source $HOME/.config/antidote/antidote.zsh
antidote load ${ZDOTDIR:-$HOME/.config/antidote}/.zsh_plugins.txt

# Load starship prompt
eval "$(starship init zsh)"
